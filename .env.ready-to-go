# =================================================================
# üöÄ Automagik Omni - READY TO GO Configuration (PGLite)
# =================================================================
# Copy this to .env and you're ready to run!
# This uses PGLite (PostgreSQL-in-memory) - zero setup required!
# =================================================================

# =================================================================
# üîß Core API Settings (REQUIRED)
# =================================================================

# API Authentication - Change this to something secure!
AUTOMAGIK_OMNI_API_KEY="your-secret-api-key-change-me"

# API Server Binding
AUTOMAGIK_OMNI_API_HOST="0.0.0.0"
AUTOMAGIK_OMNI_API_PORT="8882"

# CORS Configuration - adjust based on your frontend
AUTOMAGIK_OMNI_CORS_ORIGINS="http://localhost:3000,http://localhost:8888,http://localhost:9882"

# =================================================================
# üåç Environment & Logging
# =================================================================

ENVIRONMENT="development"
LOG_LEVEL="INFO"
AUTOMAGIK_OMNI_LOG_VERBOSITY="short"
LOG_FOLDER="./logs"
AUTOMAGIK_TIMEZONE="UTC"

# =================================================================
# üóÑÔ∏è Database Configuration - PGLITE (Zero Setup!)
# =================================================================

# PGLite - In-memory PostgreSQL (perfect for development/testing)
# No installation, no server, just works!
DATABASE_PROVIDER="pglite"

# Choose ONE of these options:
# Option 1: In-memory (super fast, resets on restart) - RECOMMENDED FOR DEV
PGLITE_DATA_DIR="memory://"

# Option 2: File-based (persistent across restarts) - UNCOMMENT to use
# PGLITE_DATA_DIR="./data/pglite"

# SQLite (legacy - not needed with PGLite)
# AUTOMAGIK_OMNI_SQLITE_DATABASE_PATH="./data/automagik-omni.db"

# PostgreSQL (for production - SKIP THIS for quick start)
# AUTOMAGIK_OMNI_DATABASE_URL="postgresql://user:password@localhost:5432/automagik_omni"

# =================================================================
# üìä Message Tracing
# =================================================================

AUTOMAGIK_OMNI_ENABLE_TRACING="true"
AUTOMAGIK_OMNI_TRACE_RETENTION_DAYS="30"
AUTOMAGIK_OMNI_TRACE_MAX_PAYLOAD_SIZE="1048576"
AUTOMAGIK_OMNI_TRACE_INCLUDE_SENSITIVE="false"

# =================================================================
# üé® UI Configuration (Frontend Dashboard)
# =================================================================

UI_HOST="0.0.0.0"
UI_PORT="9882"

# =================================================================
# üîå Evolution API Configuration (WhatsApp Integration)
# =================================================================
# These settings are for the embedded Evolution API
# Located in: resources/evolution-api/

# Server Configuration
SERVER_NAME="evolution"
SERVER_TYPE="http"
SERVER_PORT="8080"
SERVER_URL="http://localhost:8080"

# Database - Uses PGLite (same as main app)
DATABASE_PROVIDER="pglite"
PGLITE_DATA_DIR="memory://"

# ALTERNATIVE: If you want persistent Evolution data
# DATABASE_PROVIDER="pglite"
# PGLITE_DATA_DIR="./data/evolution-pglite"

# Evolution API Authentication
AUTHENTICATION_API_KEY="429683C4C977415CAAFCCE10F7D57E11"
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES="true"

# Instance Management
DEL_INSTANCE="false"

# Database Save Settings
DATABASE_SAVE_DATA_INSTANCE="true"
DATABASE_SAVE_DATA_NEW_MESSAGE="true"
DATABASE_SAVE_MESSAGE_UPDATE="true"
DATABASE_SAVE_DATA_CONTACTS="true"
DATABASE_SAVE_DATA_CHATS="true"
DATABASE_SAVE_DATA_LABELS="true"
DATABASE_SAVE_DATA_HISTORIC="true"

# Logging
LOG_LEVEL="ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS,WEBSOCKET"
LOG_COLOR="true"
LOG_BAILEYS="error"

# CORS
CORS_ORIGIN="*"
CORS_METHODS="GET,POST,PUT,DELETE"
CORS_CREDENTIALS="true"

# QR Code Settings
QRCODE_LIMIT="30"
QRCODE_COLOR="#175197"

# Phone Client Settings
CONFIG_SESSION_PHONE_CLIENT="Evolution API"
CONFIG_SESSION_PHONE_NAME="Chrome"

# Cache (Redis - optional, disable for quick start)
CACHE_REDIS_ENABLED="false"
# CACHE_REDIS_URI="redis://localhost:6379/6"
CACHE_LOCAL_ENABLED="true"

# Webhooks (disabled by default)
WEBHOOK_GLOBAL_ENABLED="false"

# RabbitMQ (disabled by default)
RABBITMQ_ENABLED="false"

# S3 Storage (disabled by default)
S3_ENABLED="false"

# Chatbot Integrations (disabled by default)
TYPEBOT_ENABLED="false"
CHATWOOT_ENABLED="false"
OPENAI_ENABLED="false"
DIFY_ENABLED="false"
N8N_ENABLED="false"
EVOAI_ENABLED="false"

# WebSocket (disabled by default)
WEBSOCKET_ENABLED="false"

# Telemetry
TELEMETRY_ENABLED="true"

# Language
LANGUAGE="en"

# =================================================================
# üöÄ QUICK START INSTRUCTIONS
# =================================================================
#
# 1. Copy this file:
#    cp .env.ready-to-go .env
#
# 2. (OPTIONAL) Change the API keys above to something secure
#
# 3. Install dependencies:
#    cd resources/evolution-api && npm install && cd ../..
#    npm install
#
# 4. Setup PGLite database (ONE TIME):
#    cd resources/evolution-api
#    npm run db:generate
#    npm run db:deploy
#    cd ../..
#
# 5. Start the server:
#    npm start
#
# 6. Access the UI:
#    http://localhost:9882
#
# 7. Access API docs:
#    http://localhost:8882/docs
#
# =================================================================
# üìù NOTES
# =================================================================
#
# ‚Ä¢ PGLite is PostgreSQL running in-memory/file - no server needed!
# ‚Ä¢ Memory mode (memory://) = super fast, but resets on restart
# ‚Ä¢ File mode (./data/pglite) = persistent across restarts
# ‚Ä¢ For production, use real PostgreSQL or switch to file mode
# ‚Ä¢ All PostgreSQL features work (JSON, arrays, full-text search)
#
# =================================================================
