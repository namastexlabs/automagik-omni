# =============================================================================
# Automagik Omni - Environment Configuration Template
# =============================================================================
# Copy this file to .env and customize for your environment
# PostgreSQL-only (embedded via pgserve) - No SQLite support

# =============================================================================
# PostgreSQL Configuration (Embedded via pgserve)
# =============================================================================

# PostgreSQL port (default: 5432)
PGSERVE_PORT=5432

# PostgreSQL data directory (persistent storage)
# Set to empty for in-memory mode (ephemeral, no persistence)
PGSERVE_DATA_DIR=./data/postgres

# Memory mode (ephemeral storage, survives process restart)
# When true, data is not persisted to disk
PGSERVE_MEMORY_MODE=false

# =============================================================================
# PostgreSQL Replication (Optional, Advanced)
# =============================================================================

# Enable replication to external PostgreSQL database
# PGSERVE_REPLICATION_URL=postgresql://user:pass@external-db:5432/omni

# Database patterns to replicate (comma-separated, empty = all databases)
# PGSERVE_REPLICATION_DATABASES=omni_*

# =============================================================================
# Backend Configuration
# =============================================================================

# PostgreSQL connection URL (auto-configured by pgserve, override if needed)
AUTOMAGIK_OMNI_POSTGRES_URL=postgresql://postgres:postgres@127.0.0.1:5432/omni

# API server port
OMNI_PORT=8882

# Environment (development, production, test)
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# =============================================================================
# Redis Configuration (Optional)
# =============================================================================

# Enable Redis caching
# REDIS_ENABLED=true

# Redis connection URL
# REDIS_URL=redis://localhost:6379/0

# Redis key prefix
# REDIS_PREFIX=omni:

# Redis TTL (seconds)
# REDIS_TTL=3600

# =============================================================================
# Evolution API Configuration (WhatsApp Web)
# =============================================================================

# Evolution API URL (proxied via gateway)
EVOLUTION_API_URL=http://localhost:8882/evolution

# Evolution API global key (auto-generated during setup)
# EVOLUTION_GLOBAL_API_KEY=

# =============================================================================
# Security
# =============================================================================

# Omni API key (auto-generated during setup)
# OMNI_API_KEY=

# =============================================================================
# Telemetry (Optional)
# =============================================================================

# PostHog project API key
# POSTHOG_PROJECT_API_KEY=

# PostHog API host
# POSTHOG_API_HOST=https://app.posthog.com
