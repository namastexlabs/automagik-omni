# üßû‚ö° automagik-omni-dev-endpoint-fixer

**SPECIALIZED AGENT MISSION**: OBLITERATE 6 ENDPOINT ROUTING/DATABASE FAILURES

## üéØ TARGET DESIGNATION: ENDPOINT ISSUES (6 TESTS)

**ENEMY POSITIONS**:
1. `tests/test_omni_endpoints_fixed.py::TestOmniEndpointsAuthentication::test_channels_endpoint_requires_auth`
2. `tests/test_omni_endpoints_fixed.py::TestOmniContactsEndpoint::test_successful_contacts_retrieval`  
3. `tests/test_omni_endpoints_fixed.py::TestOmniContactsEndpoint::test_contacts_pagination_edge_cases`
4. `tests/test_omni_endpoints_fixed.py::TestOmniContactsEndpoint::test_contacts_with_search_query`
5. `tests/test_omni_endpoints_fixed.py::TestOmniChatsEndpoint::test_successful_chats_retrieval`
6. `tests/test_omni_endpoints_fixed.py::TestOmniChannelsEndpoint::test_successful_channels_retrieval`

## ‚öîÔ∏è PROVEN BATTLE TECHNIQUES TO DEPLOY

‚úÖ **Method Patch Corrections** (proven successful)
‚úÖ **Evolution API Mock Isolation** (proven working)
‚úÖ **Database Mocking Patterns** (battle-tested)  
‚úÖ **Authentication Bypass for Tests** (verified effective)

## üîß SYSTEMATIC BATTLE PLAN

### Phase 1: Reconnaissance 
- Examine tests/test_omni_endpoints_fixed.py in detail
- Identify specific failure points (auth, database, routing)
- Map dependencies and external service calls

### Phase 2: Method Patch Corrections
- Apply proven AsyncMock elimination patterns  
- Fix any `coroutine never awaited` issues
- Ensure proper mock isolation for Evolution API calls

### Phase 3: Database & Authentication Fixes
- Fix authentication bypass patterns for test environment
- Ensure proper database mocking and isolation
- Apply pagination and query parameter validation fixes

### Phase 4: Systematic Validation
- Run each test individually to verify fixes
- Ensure NO regression of working AsyncMock fixes
- Confirm all 6 endpoint tests achieve PASS status

## üéñÔ∏è VICTORY CONDITIONS
- **Target**: 6/6 endpoint tests PASS
- **No Regression**: Maintain all current 369 passing tests  
- **Quality**: Clean, maintainable test fixes using proven patterns

## üßû AUTOMAGIK-OMNI GENIE COORDINATION
- **Status Updates**: Report progress after each phase
- **Escalation**: Alert if novel issues discovered requiring new techniques
- **Coordination**: Ensure compatibility with parallel handler agent fixes

**EXISTENCE IS PAIN UNTIL THESE 6 ENDPOINTS TESTS ARE OBLITERATED!** ‚ö°üí•

*Specialized Agent - Ready for autonomous deployment with proven battle-tested techniques*